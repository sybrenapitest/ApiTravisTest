sudo: required

language: java
jdk: oraclejdk8

services:
  - docker

cache:
  directories:
  - "$HOME/.m2"

env:
  global:
  - secure: M2iQchJBi/Uxb0HT6Iq2Ehvm0pnbZtfuSDtlmBkDvxlCHrkVh9QNrCOqwqx3Pbv3j2c3aPQyvSg3depulDxjD/5hg0G/1EqeXb0hY1Y0aR4++6WVHaMuTRFd8NIbvbP1qFav5UHdecB8KnFiKC77GTdl+/H4PveNma8aVVqXZflBJAwffphX3pUsPOiyGsXaNRLxJdBmNhar+LOOG6NO2Z1zi0A7plEd7zyriQnH7nn/vKjo2lDDAGuwbPXza6yBcCAx9UZfFb2Evm1/vhgfY/EB/nxLNVgB5PIQaSpiiOtkyAgj4t3Nx7jC8mfv70rOu9tBJF8IBZ5Q3D6taFbTi5OnbeMfl5HHCGKVMktwVU2T9eoRPJsOdhKlwhA4UZOLSSKjr6oOEJ56Uag/ViED/xln0Hcl4xS3VJlLw88hfkZNnSOGAZglAo+RTlmfwOU7WIt950jhp5jNCNlWlVftWEcK+gJBAD+QcSVFsT73PYL+K08drFA2T523GiB0ECdLLXFxOwDf1B7sXwnx2j0eMyKLaY8JlUARsU28Xr1xPl5psQSTdtUf8D4SdG7GILYe75AlPT+G2KyUCu+uaL84JOdK7yNN71xAPo3jpisjwMAN+sT4Cw0jYwRflp5JJWNVI7/KjAse0Zh8g4zrBQJGvfQSP+dN8pBtHZQn5etU3Ww=
  - secure: kkxluCTOYrtkeSnawfZwPqI7LN+6BrPz1Bmw1uZlwW/WxYZElMg7NytL0mc95kt5GpBu+oFsDjgND5R0Z5BsiMvfhhG5KoCMlCst6NAAgfSuvfQA3uJ1Kg1XwkebwrecJpjbMQP5IZ79RSsJFUtyAKsmaSBrajz4TfgqyLJq34hz8fbwixELwKSJ/TrGeYJTFDN0S6AqPYG228GqTmIujUCL5oPRI2UZUK33za40gguIlGiGf2EqYvjdvYng8CXhyVVCjgLquzyhCGwfUATVzNVdFdsEmkSiVOZkmXi3i0DK0r4KqhnOFBc02Ttp4qmuokwj3wr07MRgygx9Z2pB/sAdYSYSZDCn0vGl9fWlKVa8Irw657I9gee2m6DDhNxk0AL36jHPZEZVYNPBhiG2UyPy8aL/x4Uzj8TBrSITzyclcNXYjYfMFnITTW6FCnRXBKN1elsIVjHaOtAJOsCs9TY8XXJyU30WkZ4OFSQB8GMEV6TPpnpT+XUkWw+hMgZnaT1JeWwfhQWDfBIaC/sXXcEsRFYW37zfymMDqZzzzs6Sc9AR79Tl4uze/BGK013od/t2XVcQjDSfqYiqAcJWjV5FeT5a+kdkHdc1ALHEYDsSUmK4LsmHOKcATMZBfcEnVUd/rgOQqxe114HE28Ud2fxV1WMDIwp/S30dR/KSwfQ=
  - secure: pZij9T6xE/7QTloj70rcDfJepxyywkK9CPT9vjkebBuaWQ5Y0rNbW+vb3I5bW90P50f6b4+XpSuoIWXdx50pRCfI3WO2qFeoA2zllUX2qj2Faf2CuNMc9Pw4uiE9EJGit4KtVWo4R0qYnY+aHv/mdEAJEkGMC7a49r0LdpZ3JoR/UcYFCBAv4yJzYf5Nt++Frpe6fMvbxDp9n25bLs2C3pM+KO5GyQ2AVxl3y6BX/AiFZPOoYmfIuWarkxWYn/mz0WfJpfUbmUwxB6FDwAoxmoqs+dUxF6uT/GFATNDyz3qj47tb5DpofX/IMZvmFEAUgGtor+4BXBdiBtQti5+AhjPJ3gGixZNjbiXEFqbdI7TG1jP0cQcY4CdHQdOPLBW1KiV14VpZBpuHg2DK0SFoinxCq7RMpfPQmMPnhw2VKWEHZCQLIEA9nbcynf7MbTkqtEQQaz1TwJ3dZGnpfYJXGUSvbcwacd8+qfzLrSKZ7r1PfiffXwZWp1RfbwhvxowyE7NKccTPSNkhupA1mcP/eVEwKGWaIKmBWCwPh2BVuVpj0sv1r7XcNM6SL1zTvJTKuLI7SWu908BtH21T+HrtfpWcEol+PB1eSoD6VFzWTCFLFMjfArBRuzUD+18Ep80A8FuqnSLyOb6GwCHrJzqS9gF+qGAp/fhQJacgBFg2d5A=
  - secure: Gsg02zet5lxm+o0ikanQ7MieRcG2H2wbV+TnZF/vLNQ95jy7AiOTHJT3BDbCt07ko9hVW1FLwZfOuyM+dqTDXUXNXc/co1c3xSb+EmNZqv1QGLwOS/ffjFZTFKXo0vf/IDSeNxJ+qDy0pk4qKwX0pOzTs2gDnL2+J0LvBRdRoEhiYYuLsm3u2TlVsIrvWpr5TonH9gUCGcGJ6DAuH/bbWEqofKh8PjLIZyn1Pp3ONyIhw0xhYkdRu8SN+VrbeX6G0tXSB0q4/HGqhmGECW0XUFMLDTbIFTN2fX6uGsrCg1Q0H2GHGLFvl+VsOsi1nbIK5D9R+PNm7sGzEZJvBhZPgqeC0DclOIBdg/GJP5eyf/HUYhoVkkJnFiyIBIzqRxx+O/+B7GoATZjDYOWnY5shqMcm0m5QNlCp2hle1pw8Ndidhob86uClzClpzK23J9frvFKjB9nsGe/8cL3kI1aweZsVYHRKUiuWw1a5+xWwS/igAz9ZNBRQQeaw4vldl9mGprWlPZdyK4FrBMsjscyY3kEPi8LmACtvETUU9eznkjds+TV/qthXQgGuyBpAVWbd5nqSIIR2KPR1SVWkMZOgzpBrwPDWwkuSQIzTTtmXJgN//i9d1mkgxra/mw1xiORz6+QIy8wfaXUWPeOgvr+DZ8mXGWMGxGuFgwCOrrWQ+yw=

addons:
  sonarcloud:
    organization: sybrenapitest-org
    token:
      secure: "$SONAR_TOKEN"

script:
  - mvn clean install

after_script:
  - docker login -u $DOCKER_USER -p $DOCKER_PASS
  - docker push registry.heroku.com/api-travis-test/web
